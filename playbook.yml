---
- name: Provision Rocky Linux
  hosts: all
  become: yes
  tasks:
    - name: Install basic packages
      yum:
        name:
          - git
          - wget
          - vim
        state: present

    - name: Disable firewalld
      service:
        name: firewalld
        state: stopped
        enabled: no
      # This condition checks if the firewalld service is installed before running the task
      when: ansible_facts.services['firewalld.service'] is defined
